var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function l(e,t,n,r){if(e){const s=o(e,t,n,r);return e[0](s)}}function o(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function a(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function u(e,t,n,r,s,c){if(s){const i=o(t,n,r,c);e.p(i,s)}}function d(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function f(e){return null==e?"":e}function p(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function g(){return y(" ")}function _(){return y("")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e){return""===e?null:+e}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function C(e,t){e.value=null==t?"":t}function k(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function S(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function j(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let D;function T(e){D=e}function B(e){(function(){if(!D)throw new Error("Function called outside component initialization");return D})().$$.on_mount.push(e)}const E=[],M=[],O=[],R=[],U=Promise.resolve();let A=!1;function I(e){O.push(e)}let N=!1;const P=new Set;function z(){if(!N){N=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];T(t),H(t.$$)}for(T(null),E.length=0;M.length;)M.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];P.has(t)||(P.add(t),t())}O.length=0}while(E.length);for(;R.length;)R.pop()();A=!1,N=!1,P.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const L=new Set;function F(e,t){e&&e.i&&(L.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(L.has(e))return;L.add(e),undefined.c.push((()=>{L.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function J(e,t){e.d(1),t.delete(e.key)}function q(e,t,n,r,s,c,i,l,o,a,u,d){let f=e.length,p=c.length,v=f;const h={};for(;v--;)h[e[v].key]=v;const m=[],y=new Map,g=new Map;for(v=p;v--;){const e=d(s,c,v),l=n(e);let o=i.get(l);o?r&&o.p(e,t):(o=a(l,e),o.c()),y.set(l,m[v]=o),l in h&&g.set(l,Math.abs(v-h[l]))}const _=new Set,b=new Set;function w(e){F(e,1),e.m(l,u),i.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=m[p-1],n=e[f-1],r=t.key,s=n.key;t===n?(u=t.first,f--,p--):y.has(s)?!i.has(r)||_.has(r)?w(t):b.has(s)?f--:g.get(r)>g.get(s)?(b.add(r),w(t)):(_.add(s),f--):(o(n,i),f--)}for(;f--;){const t=e[f];y.has(t.key)||o(t,i)}for(;p;)w(m[p-1]);return m}function W(e){e&&e.c()}function Y(e,n,c,i){const{fragment:l,on_mount:o,on_destroy:a,after_update:u}=e.$$;l&&l.m(n,c),i||I((()=>{const n=o.map(t).filter(s);a?a.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(I)}function G(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function K(e,t){-1===e.$$.dirty[0]&&(E.push(e),A||(A=!0,U.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,s,c,i,l,o,a,u=[-1]){const d=D;T(t);const f=t.$$={fragment:null,ctx:null,props:o,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:s.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=c?c(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&l(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),p&&K(t,e)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);f.fragment&&f.fragment.l(e),e.forEach(h)}else f.fragment&&f.fragment.c();s.intro&&F(t.$$.fragment),Y(t,s.target,s.anchor,s.customElement),z()}T(d)}class X{$destroy(){G(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(e){let t,n;const r=e[1].default,s=l(r,e,e[0],null);return{c(){t=m("div"),s&&s.c(),w(t,"class","card svelte-1mj4ff7")},m(e,r){v(e,t,r),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&(!n||1&t)&&u(s,r,e,e[0],n?a(r,e[0],t,null):d(e[0]),null)},i(e){n||(F(s,e),n=!0)},o(e){V(s,e),n=!1},d(e){e&&h(t),s&&s.d(e)}}}function ee(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,r]}class te extends X{constructor(e){super(),Q(this,e,ee,Z,c,{})}}const ne=[];function re(t,n=e){let r;const s=new Set;function i(e){if(c(t,e)&&(t=e,r)){const e=!ne.length;for(const e of s)e[1](),ne.push(e,t);if(e){for(let e=0;e<ne.length;e+=2)ne[e][0](ne[e+1]);ne.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(c,l=e){const o=[c,l];return s.add(o),1===s.size&&(r=n(i)||e),c(t),()=>{s.delete(o),0===s.size&&(r(),r=null)}}}}var se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ce(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function ie(e){var t={exports:{}};return e(t,t.exports),t.exports}var le=ce(Object.freeze({__proto__:null,default:{}})),oe=ie((function(e,t){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==se&&se.crypto&&(n=se.crypto),!n)try{n=le}catch(e){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),c={},i=c.lib={},l=i.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,s=e.sigBytes;if(this.clamp(),r%4)for(var c=0;c<s;c++){var i=n[c>>>2]>>>24-c%4*8&255;t[r+c>>>2]|=i<<24-(r+c)%4*8}else for(var l=0;l<s;l+=4)t[r+l>>>2]=n[l>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new o.init(t,e)}}),a=c.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],s=0;s<n;s++){var c=t[s>>>2]>>>24-s%4*8&255;r.push((c>>>4).toString(16)),r.push((15&c).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},d=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],s=0;s<n;s++){var c=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(c))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,s=r.words,c=r.sigBytes,i=this.blockSize,l=c/(4*i),a=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,u=e.min(4*a,c);if(a){for(var d=0;d<a;d+=i)this._doProcessBlock(s,d);n=s.splice(0,a),r.sigBytes-=u}return new o.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}});var v=c.algo={};return c}(Math),n)}));let ae;ie((function(e,t){var n;e.exports=(n=oe,function(e){var t=n,r=t.lib,s=r.WordArray,c=r.Hasher,i=t.algo,l=[];!function(){for(var t=0;t<64;t++)l[t]=4294967296*e.abs(e.sin(t+1))|0}();var o=i.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var c=this._hash.words,i=e[t+0],o=e[t+1],p=e[t+2],v=e[t+3],h=e[t+4],m=e[t+5],y=e[t+6],g=e[t+7],_=e[t+8],b=e[t+9],w=e[t+10],$=e[t+11],x=e[t+12],C=e[t+13],k=e[t+14],S=e[t+15],j=c[0],D=c[1],T=c[2],B=c[3];j=a(j,D,T,B,i,7,l[0]),B=a(B,j,D,T,o,12,l[1]),T=a(T,B,j,D,p,17,l[2]),D=a(D,T,B,j,v,22,l[3]),j=a(j,D,T,B,h,7,l[4]),B=a(B,j,D,T,m,12,l[5]),T=a(T,B,j,D,y,17,l[6]),D=a(D,T,B,j,g,22,l[7]),j=a(j,D,T,B,_,7,l[8]),B=a(B,j,D,T,b,12,l[9]),T=a(T,B,j,D,w,17,l[10]),D=a(D,T,B,j,$,22,l[11]),j=a(j,D,T,B,x,7,l[12]),B=a(B,j,D,T,C,12,l[13]),T=a(T,B,j,D,k,17,l[14]),j=u(j,D=a(D,T,B,j,S,22,l[15]),T,B,o,5,l[16]),B=u(B,j,D,T,y,9,l[17]),T=u(T,B,j,D,$,14,l[18]),D=u(D,T,B,j,i,20,l[19]),j=u(j,D,T,B,m,5,l[20]),B=u(B,j,D,T,w,9,l[21]),T=u(T,B,j,D,S,14,l[22]),D=u(D,T,B,j,h,20,l[23]),j=u(j,D,T,B,b,5,l[24]),B=u(B,j,D,T,k,9,l[25]),T=u(T,B,j,D,v,14,l[26]),D=u(D,T,B,j,_,20,l[27]),j=u(j,D,T,B,C,5,l[28]),B=u(B,j,D,T,p,9,l[29]),T=u(T,B,j,D,g,14,l[30]),j=d(j,D=u(D,T,B,j,x,20,l[31]),T,B,m,4,l[32]),B=d(B,j,D,T,_,11,l[33]),T=d(T,B,j,D,$,16,l[34]),D=d(D,T,B,j,k,23,l[35]),j=d(j,D,T,B,o,4,l[36]),B=d(B,j,D,T,h,11,l[37]),T=d(T,B,j,D,g,16,l[38]),D=d(D,T,B,j,w,23,l[39]),j=d(j,D,T,B,C,4,l[40]),B=d(B,j,D,T,i,11,l[41]),T=d(T,B,j,D,v,16,l[42]),D=d(D,T,B,j,y,23,l[43]),j=d(j,D,T,B,b,4,l[44]),B=d(B,j,D,T,x,11,l[45]),T=d(T,B,j,D,S,16,l[46]),j=f(j,D=d(D,T,B,j,p,23,l[47]),T,B,i,6,l[48]),B=f(B,j,D,T,g,10,l[49]),T=f(T,B,j,D,k,15,l[50]),D=f(D,T,B,j,m,21,l[51]),j=f(j,D,T,B,x,6,l[52]),B=f(B,j,D,T,v,10,l[53]),T=f(T,B,j,D,w,15,l[54]),D=f(D,T,B,j,o,21,l[55]),j=f(j,D,T,B,_,6,l[56]),B=f(B,j,D,T,S,10,l[57]),T=f(T,B,j,D,y,15,l[58]),D=f(D,T,B,j,C,21,l[59]),j=f(j,D,T,B,h,6,l[60]),B=f(B,j,D,T,$,10,l[61]),T=f(T,B,j,D,p,15,l[62]),D=f(D,T,B,j,b,21,l[63]),c[0]=c[0]+j|0,c[1]=c[1]+D|0,c[2]=c[2]+T|0,c[3]=c[3]+B|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;n[s>>>5]|=128<<24-s%32;var c=e.floor(r/4294967296),i=r;n[15+(s+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),n[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process();for(var l=this._hash,o=l.words,a=0;a<4;a++){var u=o[a];o[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return l},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}});function a(e,t,n,r,s,c,i){var l=e+(t&n|~t&r)+s+i;return(l<<c|l>>>32-c)+t}function u(e,t,n,r,s,c,i){var l=e+(t&r|n&~r)+s+i;return(l<<c|l>>>32-c)+t}function d(e,t,n,r,s,c,i){var l=e+(t^n^r)+s+i;return(l<<c|l>>>32-c)+t}function f(e,t,n,r,s,c,i){var l=e+(n^(t|~r))+s+i;return(l<<c|l>>>32-c)+t}t.MD5=c._createHelper(o),t.HmacMD5=c._createHmacHelper(o)}(Math),n.MD5)}));const ue=new Uint8Array(16);function de(){if(!ae&&(ae="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ae))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ae(ue)}const fe=[];for(let e=0;e<256;++e)fe.push((e+256).toString(16).slice(1));var pe={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ve(e,t,n){if(pe.randomUUID&&!t&&!e)return pe.randomUUID();const r=(e=e||{}).random||(e.rng||de)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(fe[e[t+0]]+fe[e[t+1]]+fe[e[t+2]]+fe[e[t+3]]+"-"+fe[e[t+4]]+fe[e[t+5]]+"-"+fe[e[t+6]]+fe[e[t+7]]+"-"+fe[e[t+8]]+fe[e[t+9]]+"-"+fe[e[t+10]]+fe[e[t+11]]+fe[e[t+12]]+fe[e[t+13]]+fe[e[t+14]]+fe[e[t+15]]).toLowerCase()}(r)}class he{uid;currencyCode;alias_name;rate;has_manual_rate;manual_rate;adjustment;constructor(e,t,n,r,s,c){this.uid=ve(),this.currencyCode=e,this.alias_name=t,this.rate=n,this.has_manual_rate=r,this.manual_rate=s,this.adjustment=c}}class me{price;timestamp;constructor(e,t){this.uid=ve(),this.price=e,this.timestamp=t}}class ye{unit;value;constructor(e,t){this.unit=e,this.value=t}}const ge=re({selected_currencies:["EUR","TRY"],currency_rates:[new he("EUR","1.05",!1,1,500),new he("TRY","19.01",!0,19.5,-200)]}),_e=re({current_price:new me(48285,1679161352),historic_prices:[new me(47895,1679218971),new me(48890,1679118971)]}),be=re({disabled:!1,onTime:!0,onChange:!1,interval:new ye("Min",2)});async function we(){console.log("Getting state from server");let e=await async function(){let e=await fetch("http://localhost:7777/api/get_state");return e.ok||(console.log(e.statusText),console.log(e.status)),await e.json()}(),t=function(e){let t=[];for(let n of e.historic_prices)t=[new me(n.price,n.timestamp),...t];return t.sort(((e,t)=>t.timestamp-e.timestamp)),{current_price:new me(e.current_price.price,e.current_price.timestamp),historic_prices:t}}(e.dollar_model),n=function(e){let t=new ye(e.interval.unit,e.interval.value);return{disabled:e.disabled,onChange:e.onChange,onTime:e.onTime,interval:t}}(e.bot_model),r=function(e){let t=[];for(let n of e.currency_rates)t=[new he(n.currencyCode,n.alias_name,n.rate,n.has_manual_rate,n.manual_rate,n.adjustment),...t];return t=[...t.sort(((e,t)=>e.currencyCode.localeCompare(t.currencyCode)))],console.log(t),{selected_currencies:e.selected_currencies,currency_rates:t}}(e.currency_model);return _e.update((e=>t)),be.update((e=>n)),ge.update((e=>r)),e}let $e=new class{dollar_model;currency_model;bot_model;constructor(e,t,n){this.dollar_model=e,this.currency_model=t,this.bot_model=n}}(null,null,null);function xe(e){let t,n,r;const s=e[4].default,c=l(s,e,e[3],null);return{c(){t=m("button"),c&&c.c(),w(t,"type",e[1]),t.disabled=e[2],w(t,"class",n=f(e[0])+" svelte-1g7fhy3")},m(e,n){v(e,t,n),c&&c.m(t,null),r=!0},p(e,[i]){c&&c.p&&(!r||8&i)&&u(c,s,e,e[3],r?a(s,e[3],i,null):d(e[3]),null),(!r||2&i)&&w(t,"type",e[1]),(!r||4&i)&&(t.disabled=e[2]),(!r||1&i&&n!==(n=f(e[0])+" svelte-1g7fhy3"))&&w(t,"class",n)},i(e){r||(F(c,e),r=!0)},o(e){V(c,e),r=!1},d(e){e&&h(t),c&&c.d(e)}}}function Ce(e,t,n){let{$$slots:r={},$$scope:s}=t,{style:c="primary"}=t,{type:i="button"}=t,{disabled:l=!1}=t;return e.$$set=e=>{"style"in e&&n(0,c=e.style),"type"in e&&n(1,i=e.type),"disabled"in e&&n(2,l=e.disabled),"$$scope"in e&&n(3,s=e.$$scope)},[c,i,l,s,r]}class ke extends X{constructor(e){super(),Q(this,e,Ce,xe,c,{style:0,type:1,disabled:2})}}function Se(e){let t,n,s,c,i,l,o,a,u,d,f,y,$,x,C,k,S=e[0].onTime&&je(e);return{c(){t=m("ul"),n=m("li"),s=m("input"),i=g(),l=m("label"),l.textContent="Send On Time",o=g(),a=m("li"),u=m("input"),f=g(),y=m("label"),y.textContent="Send On Change",$=g(),S&&S.c(),x=_(),w(s,"type","radio"),w(s,"id","by-time"),w(s,"name","by-time"),s.value="1",s.checked=c=e[0].onTime,w(s,"class","svelte-d0y09i"),w(l,"for","num1"),w(l,"class","svelte-d0y09i"),w(n,"class","svelte-d0y09i"),w(u,"type","radio"),w(u,"id","by-change"),w(u,"name","by-change"),u.value="2",u.checked=d=e[0].onChange,w(u,"class","svelte-d0y09i"),w(y,"for","num2"),w(y,"class","svelte-d0y09i"),w(a,"class","svelte-d0y09i"),w(t,"class","rating svelte-d0y09i")},m(r,c){v(r,t,c),p(t,n),p(n,s),p(n,i),p(n,l),p(t,o),p(t,a),p(a,u),p(a,f),p(a,y),v(r,$,c),S&&S.m(r,c),v(r,x,c),C||(k=[b(s,"change",e[1]),b(u,"change",e[1])],C=!0)},p(e,t){1&t&&c!==(c=e[0].onTime)&&(s.checked=c),1&t&&d!==(d=e[0].onChange)&&(u.checked=d),e[0].onTime?S?S.p(e,t):(S=je(e),S.c(),S.m(x.parentNode,x)):S&&(S.d(1),S=null)},d(e){e&&h(t),e&&h($),S&&S.d(e),e&&h(x),C=!1,r(k)}}}function je(e){let t,n,s,c,i,l,o,a,u,d,f;return{c(){t=m("div"),n=m("p"),n.textContent="Every",s=g(),c=m("input"),i=g(),l=m("select"),o=m("option"),o.textContent="Minutes",a=m("option"),a.textContent="Hours",u=m("option"),u.textContent="Days",w(n,"class","svelte-d0y09i"),w(c,"type","number"),w(c,"min","0"),w(c,"step","1"),w(c,"class","svelte-d0y09i"),o.__value="Min",o.value=o.__value,w(o,"class","svelte-d0y09i"),a.__value="Hour",a.value=a.__value,w(a,"class","svelte-d0y09i"),u.__value="Day",u.value=u.__value,w(u,"class","svelte-d0y09i"),w(l,"name","interval-unit"),w(l,"id","interval-unit"),w(l,"class","svelte-d0y09i"),void 0===e[0].interval.unit&&I((()=>e[5].call(l))),k(t,"display","flex"),w(t,"class","svelte-d0y09i")},m(r,h){v(r,t,h),p(t,n),p(t,s),p(t,c),C(c,e[0].interval.value),p(t,i),p(t,l),p(l,o),p(l,a),p(l,u),S(l,e[0].interval.unit),d||(f=[b(c,"input",e[4]),b(l,"change",e[5])],d=!0)},p(e,t){1&t&&$(c.value)!==e[0].interval.value&&C(c,e[0].interval.value),1&t&&S(l,e[0].interval.unit)},d(e){e&&h(t),d=!1,r(f)}}}function De(e){let t,n,s,c,i,l,o,a,u,d,f,_,$,C,S,j,D=e[0].disabled?"Disabled":"Running",T=e[0].disabled?"Enable":"Disable",B=!e[0].disabled&&Se(e);return{c(){t=m("div"),n=m("p"),n.textContent="Status:",s=g(),c=m("p"),i=y(D),l=g(),B&&B.c(),o=g(),a=m("div"),u=m("button"),d=y(T),f=g(),_=m("button"),$=y("Send Now"),w(n,"class","svelte-d0y09i"),w(c,"class","svelte-d0y09i"),k(t,"display","flex"),w(t,"class","svelte-d0y09i"),w(u,"class","svelte-d0y09i"),_.disabled=C=e[0].disabled,w(_,"class","svelte-d0y09i"),k(a,"display","flex"),w(a,"class","svelte-d0y09i")},m(r,h){v(r,t,h),p(t,n),p(t,s),p(t,c),p(c,i),v(r,l,h),B&&B.m(r,h),v(r,o,h),v(r,a,h),p(a,u),p(u,d),p(a,f),p(a,_),p(_,$),S||(j=[b(u,"click",e[2]),b(_,"click",e[3])],S=!0)},p(e,t){1&t&&D!==(D=e[0].disabled?"Disabled":"Running")&&x(i,D),e[0].disabled?B&&(B.d(1),B=null):B?B.p(e,t):(B=Se(e),B.c(),B.m(o.parentNode,o)),1&t&&T!==(T=e[0].disabled?"Enable":"Disable")&&x(d,T),1&t&&C!==(C=e[0].disabled)&&(_.disabled=C)},d(e){e&&h(t),e&&h(l),B&&B.d(e),e&&h(o),e&&h(a),S=!1,r(j)}}}function Te(e){let t,n;return t=new te({props:{$$slots:{default:[De]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,[n]){const r={};65&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){G(t,e)}}}function Be(e,t,n){let r;i(e,be,(e=>n(0,r=e)));return[r,e=>{console.log(e.currentTarget.value);let t=+e.currentTarget.value;be.update((e=>{let n=JSON.parse(JSON.stringify(e));return 1===t?(n.onTime=!0,n.onChange=!1):(n.onTime=!1,n.onChange=!0),n}))},()=>{var e,t;e=be,r.disabled=!r.disabled,t=r,e.set(t)},async()=>{console.log("Sending Bot Now!")},function(){r.interval.value=$(this.value),be.set(r)},function(){r.interval.unit=j(this),be.set(r)}]}class Ee extends X{constructor(e){super(),Q(this,e,Be,Te,c,{})}}function Me(e,t,n){const r=e.slice();return r[11]=t[n],r}function Oe(e){let t;return{c(){t=y("Add")},m(e,n){v(e,t,n)},d(e){e&&h(t)}}}function Re(e,t){let n,r,s,c,i,l,o,a,u,d=t[11].price+"",f=t[4](t[11].timestamp)+"",_=t[5](t[11].timestamp)+"";return{key:e,first:null,c(){n=m("div"),r=m("p"),s=y(d),c=g(),i=m("p"),l=y(f),o=y(" -\n        "),a=y(_),u=g(),w(r,"class","svelte-15yrd8l"),w(i,"class","svelte-15yrd8l"),k(n,"display","flex"),k(n,"justify-content","space-between"),w(n,"class","svelte-15yrd8l"),this.first=n},m(e,t){v(e,n,t),p(n,r),p(r,s),p(n,c),p(n,i),p(i,l),p(i,o),p(i,a),p(n,u)},p(e,n){t=e,4&n&&d!==(d=t[11].price+"")&&x(s,d),4&n&&f!==(f=t[4](t[11].timestamp)+"")&&x(l,f),4&n&&_!==(_=t[5](t[11].timestamp)+"")&&x(a,_)},d(e){e&&h(n)}}}function Ue(e){let t,n,c,i,l,o,a,u,d,f,S,j,D,T,B,E,M,O,R,U,A,I,N,P,z,H,L,K,Q,X,Z,ee,te=e[2].current_price.price+"",ne=e[4](e[2].current_price.timestamp)+"",re=e[5](e[2].current_price.timestamp)+"",se=[],ce=new Map;S=new ke({props:{type:"submit",$$slots:{default:[Oe]},$$scope:{ctx:e}}});let ie=e[2].historic_prices;const le=e=>e[11].uid;for(let t=0;t<ie.length;t+=1){let n=Me(e,ie,t),r=le(n);ce.set(r,se[t]=Re(r,n))}return{c(){t=m("form"),n=m("div"),c=m("p"),c.textContent="Enter",i=g(),l=m("input"),o=g(),a=m("p"),a.textContent="$",u=g(),d=m("input"),f=g(),W(S.$$.fragment),j=g(),D=m("hr"),T=g(),B=m("div"),E=m("p"),M=y("Current Price:\n      "),O=y(te),R=g(),U=m("p"),A=y(ne),I=y(" -\n      "),N=y(re),P=g(),z=m("hr"),H=g(),L=m("p"),L.textContent="Logs:",K=g();for(let e=0;e<se.length;e+=1)se[e].c();Q=_(),w(c,"class","svelte-15yrd8l"),w(l,"type","number"),w(l,"min","0"),w(l,"class","svelte-15yrd8l"),w(a,"class","svelte-15yrd8l"),w(d,"type","datetime-local"),w(d,"class","svelte-15yrd8l"),k(n,"display","flex"),w(n,"class","svelte-15yrd8l"),w(t,"class","svelte-15yrd8l"),w(D,"class","solid svelte-15yrd8l"),w(E,"class","svelte-15yrd8l"),w(U,"class","svelte-15yrd8l"),k(B,"display","flex"),k(B,"justify-content","space-between"),w(B,"class","svelte-15yrd8l"),w(z,"class","solid svelte-15yrd8l"),w(L,"class","svelte-15yrd8l")},m(r,h){v(r,t,h),p(t,n),p(n,c),p(n,i),p(n,l),C(l,e[0]),p(n,o),p(n,a),p(n,u),p(n,d),C(d,e[1]),p(n,f),Y(S,n,null),v(r,j,h),v(r,D,h),v(r,T,h),v(r,B,h),p(B,E),p(E,M),p(E,O),p(B,R),p(B,U),p(U,A),p(U,I),p(U,N),v(r,P,h),v(r,z,h),v(r,H,h),v(r,L,h),v(r,K,h);for(let e=0;e<se.length;e+=1)se[e].m(r,h);var m;v(r,Q,h),X=!0,Z||(ee=[b(l,"input",e[6]),b(d,"input",e[7]),b(t,"submit",(m=function(){s(e[3](e[0]))&&e[3](e[0]).apply(this,arguments)},function(e){return e.preventDefault(),m.call(this,e)}))],Z=!0)},p(t,n){e=t,1&n&&$(l.value)!==e[0]&&C(l,e[0]),2&n&&C(d,e[1]);const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),S.$set(r),(!X||4&n)&&te!==(te=e[2].current_price.price+"")&&x(O,te),(!X||4&n)&&ne!==(ne=e[4](e[2].current_price.timestamp)+"")&&x(A,ne),(!X||4&n)&&re!==(re=e[5](e[2].current_price.timestamp)+"")&&x(N,re),52&n&&(ie=e[2].historic_prices,se=q(se,n,le,1,e,ie,ce,Q.parentNode,J,Re,Q,Me))},i(e){X||(F(S.$$.fragment,e),X=!0)},o(e){V(S.$$.fragment,e),X=!1},d(e){e&&h(t),G(S),e&&h(j),e&&h(D),e&&h(T),e&&h(B),e&&h(P),e&&h(z),e&&h(H),e&&h(L),e&&h(K);for(let t=0;t<se.length;t+=1)se[t].d(e);e&&h(Q),Z=!1,r(ee)}}}function Ae(e){let t,n;return t=new te({props:{$$slots:{default:[Ue]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,[n]){const r={};16391&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){G(t,e)}}}function Ie(e,t,n){let r;i(e,_e,(e=>n(2,r=e)));let s,c="";return[c,s,r,e=>{console.log(e),_e.update((t=>{let n=[new me(+t.current_price.price,t.current_price.timestamp),...t.historic_prices];return console.log(s),{current_price:new me(e,s instanceof String?Math.floor(Date.parse(s)/1e3):Math.floor(new Date/1e3)),historic_prices:n}}))},e=>new Date(1e3*e).toLocaleDateString(),e=>new Date(1e3*e).toLocaleTimeString(),function(){c=$(this.value),n(0,c)},function(){s=this.value,n(1,s)}]}class Ne extends X{constructor(e){super(),Q(this,e,Ie,Ae,c,{})}}function Pe(e,t,n){const r=e.slice();return r[26]=t[n],r[27]=t,r[28]=n,r}function ze(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function He(t){let n,r,s;return{c(){n=m("button"),n.textContent="Delete",w(n,"class","svelte-1kvb8vw")},m(e,c){v(e,n,c),r||(s=b(n,"click",t[14]),r=!0)},p:e,d(e){e&&h(n),r=!1,s()}}}function Le(e){let t,n,r,s=e[26].currencyCode+"";return{c(){t=m("option"),n=y(s),t.__value=r=e[26].currencyCode,t.value=t.__value,w(t,"class","svelte-1kvb8vw")},m(e,r){v(e,t,r),p(t,n)},p(e,c){16&c&&s!==(s=e[26].currencyCode+"")&&x(n,s),16&c&&r!==(r=e[26].currencyCode)&&(t.__value=r,t.value=t.__value)},d(e){e&&h(t)}}}function Fe(e,t){let n,r,s=!t[4].selected_currencies.includes(t[26].name),c=s&&Le(t);return{key:e,first:null,c(){n=_(),c&&c.c(),r=_(),this.first=n},m(e,t){v(e,n,t),c&&c.m(e,t),v(e,r,t)},p(e,n){t=e,16&n&&(s=!t[4].selected_currencies.includes(t[26].name)),s?c?c.p(t,n):(c=Le(t),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(e){e&&h(n),c&&c.d(e),e&&h(r)}}}function Ve(e){let t,n,r=e[26].rate+"";return{c(){t=m("p"),n=y(r),w(t,"class","svelte-1kvb8vw")},m(e,r){v(e,t,r),p(t,n)},p(e,t){1&t&&r!==(r=e[26].rate+"")&&x(n,r)},d(e){e&&h(t)}}}function Je(e){let t,n,s;function c(){e[18].call(t,e[27],e[28])}return{c(){t=m("input"),w(t,"type","number"),w(t,"min","0"),w(t,"step","0.0001"),w(t,"class","svelte-1kvb8vw")},m(r,i){v(r,t,i),C(t,e[26].manual_rate),n||(s=[b(t,"chage",Ke),b(t,"input",c)],n=!0)},p(n,r){e=n,1&r&&$(t.value)!==e[26].manual_rate&&C(t,e[26].manual_rate)},d(e){e&&h(t),n=!1,r(s)}}}function qe(e,t){let n,s,c,i,l,o,a,u,d,f,_,k,S,j,D,T,B,E,M,O,R,U,A=t[28]+1+"",I=t[26].currencyCode+"",N=t[26].alias_name+"";function P(){t[17].call(o,t[27],t[28])}function z(e,t){return e[26].has_manual_rate?Je:Ve}let H=z(t),L=H(t);function F(){t[19].call(M,t[27],t[28])}return{key:e,first:null,c(){n=m("div"),s=m("p"),c=y(A),i=g(),l=m("div"),o=m("input"),a=g(),u=m("div"),d=m("p"),f=y(I),_=g(),k=m("div"),S=m("p"),j=y(N),D=g(),T=m("div"),L.c(),B=g(),E=m("div"),M=m("input"),O=g(),w(s,"class","svelte-1kvb8vw"),w(n,"class","table-cell svelte-1kvb8vw"),w(o,"type","checkbox"),w(o,"class","svelte-1kvb8vw"),w(l,"class","table-cell svelte-1kvb8vw"),w(d,"class","svelte-1kvb8vw"),w(u,"class","table-cell svelte-1kvb8vw"),w(S,"class","svelte-1kvb8vw"),w(k,"class","table-cell svelte-1kvb8vw"),w(T,"class","table-cell svelte-1kvb8vw"),w(M,"type","number"),w(M,"step","50"),w(M,"class","svelte-1kvb8vw"),w(E,"class","table-cell svelte-1kvb8vw"),this.first=n},m(e,r){v(e,n,r),p(n,s),p(s,c),v(e,i,r),v(e,l,r),p(l,o),o.checked=t[26].has_manual_rate,v(e,a,r),v(e,u,r),p(u,d),p(d,f),v(e,_,r),v(e,k,r),p(k,S),p(S,j),v(e,D,r),v(e,T,r),L.m(T,null),v(e,B,r),v(e,E,r),p(E,M),C(M,t[26].adjustment),p(E,O),R||(U=[b(o,"change",P),b(M,"change",Qe),b(M,"input",F)],R=!0)},p(e,n){t=e,1&n&&A!==(A=t[28]+1+"")&&x(c,A),1&n&&(o.checked=t[26].has_manual_rate),1&n&&I!==(I=t[26].currencyCode+"")&&x(f,I),1&n&&N!==(N=t[26].alias_name+"")&&x(j,N),H===(H=z(t))&&L?L.p(t,n):(L.d(1),L=H(t),L&&(L.c(),L.m(T,null))),1&n&&$(M.value)!==t[26].adjustment&&C(M,t[26].adjustment)},d(e){e&&h(n),e&&h(i),e&&h(l),e&&h(a),e&&h(u),e&&h(_),e&&h(k),e&&h(D),e&&h(T),L.d(),e&&h(B),e&&h(E),R=!1,r(U)}}}function We(e){let t,n,c,i,l,o,a,u,d,f,_,$,j,D,T,B,E,M,O,R,U,A,N,P,z,H,L,F,V,W,Y,G,K,Q,X,Z,ee,te,ne=e[2]?"Add":"Edit",re=[],se=new Map,ce=[],ie=new Map,le=!e[2]&&He(e),oe=e[4].currency_rates;const ae=e=>e[26].uid;for(let t=0;t<oe.length;t+=1){let n=ze(e,oe,t),r=ae(n);se.set(r,re[t]=Fe(r,n))}let ue=e[0];const de=e=>e[26].uid;for(let t=0;t<ue.length;t+=1){let n=Pe(e,ue,t),r=de(n);ie.set(r,ce[t]=qe(r,n))}return{c(){t=m("div"),n=m("p"),n.textContent="New / Edit Currency",c=g(),i=m("input"),l=g(),o=m("input"),a=g(),u=m("button"),d=y(ne),f=g(),le&&le.c(),_=g(),$=m("div"),j=m("p"),j.textContent="Select Currency",D=g(),T=m("select");for(let e=0;e<re.length;e+=1)re[e].c();E=g(),M=m("button"),O=y("Select"),U=g(),A=m("button"),A.textContent="Reset",N=g(),P=m("div"),z=m("div"),z.textContent="Row",H=g(),L=m("div"),L.textContent="Manual",F=g(),V=m("div"),V.textContent="Code",W=g(),Y=m("div"),Y.textContent="Name",G=g(),K=m("div"),K.textContent="Rate",Q=g(),X=m("div"),X.textContent="Adjustment",Z=g();for(let e=0;e<ce.length;e+=1)ce[e].c();k(n,"margin-right","16px"),w(n,"class","svelte-1kvb8vw"),k(i,"width","56px"),k(i,"margin-right","16px"),w(i,"type","text"),w(i,"class","svelte-1kvb8vw"),k(o,"width","96px"),k(o,"margin-right","16px"),w(o,"type","text"),w(o,"class","svelte-1kvb8vw"),w(u,"class","svelte-1kvb8vw"),k(t,"display","flex"),k(t,"margin-bottom","16px"),w(t,"class","svelte-1kvb8vw"),k(j,"margin-right","16px"),w(j,"class","svelte-1kvb8vw"),T.disabled=B=e[4].selected_currencies.length===e[4].currency_rates.length,w(T,"class","add-remove-currency select-currency svelte-1kvb8vw"),w(T,"name","select-currency"),w(T,"id","select-currency"),void 0===e[1]&&I((()=>e[15].call(T))),M.disabled=R=0===e[1].length,w(M,"class","svelte-1kvb8vw"),w(A,"class","svelte-1kvb8vw"),k($,"display","flex"),k($,"margin-bottom","16px"),w($,"class","svelte-1kvb8vw"),w(z,"class","table-cell heading-title svelte-1kvb8vw"),w(L,"class","table-cell heading-title svelte-1kvb8vw"),w(V,"class","table-cell heading-title svelte-1kvb8vw"),w(Y,"class","table-cell heading-title svelte-1kvb8vw"),w(K,"class","table-cell heading-title svelte-1kvb8vw"),w(X,"class","table-cell heading-title svelte-1kvb8vw"),k(P,"display","grid"),k(P,"grid-template-columns","repeat(6, auto)"),k(P,"max-width","480px"),w(P,"class","svelte-1kvb8vw")},m(r,h){v(r,t,h),p(t,n),p(t,c),p(t,i),C(i,e[3].currencyCode),p(t,l),p(t,o),C(o,e[3].alias_name),p(t,a),p(t,u),p(u,d),p(t,f),le&&le.m(t,null),v(r,_,h),v(r,$,h),p($,j),p($,D),p($,T);for(let e=0;e<re.length;e+=1)re[e].m(T,null);S(T,e[1]),p($,E),p($,M),p(M,O),p($,U),p($,A),v(r,N,h),v(r,P,h),p(P,z),p(P,H),p(P,L),p(P,F),p(P,V),p(P,W),p(P,Y),p(P,G),p(P,K),p(P,Q),p(P,X),p(P,Z);for(let e=0;e<ce.length;e+=1)ce[e].m(P,null);ee||(te=[b(i,"change",e[10]),b(i,"input",e[11]),b(o,"chage",Ge),b(o,"input",e[12]),b(u,"click",e[13]),b(T,"change",e[15]),b(M,"click",(function(){s(e[8](e[1]))&&e[8](e[1]).apply(this,arguments)})),b(A,"click",e[16])],ee=!0)},p(n,r){e=n,8&r&&i.value!==e[3].currencyCode&&C(i,e[3].currencyCode),8&r&&o.value!==e[3].alias_name&&C(o,e[3].alias_name),4&r&&ne!==(ne=e[2]?"Add":"Edit")&&x(d,ne),e[2]?le&&(le.d(1),le=null):le?le.p(e,r):(le=He(e),le.c(),le.m(t,null)),16&r&&(oe=e[4].currency_rates,re=q(re,r,ae,1,e,oe,se,T,J,Fe,null,ze)),16&r&&B!==(B=e[4].selected_currencies.length===e[4].currency_rates.length)&&(T.disabled=B),18&r&&S(T,e[1]),18&r&&R!==(R=0===e[1].length)&&(M.disabled=R),1&r&&(ue=e[0],ce=q(ce,r,de,1,e,ue,ie,P,J,qe,null,Pe))},d(e){e&&h(t),le&&le.d(),e&&h(_),e&&h($);for(let e=0;e<re.length;e+=1)re[e].d();e&&h(N),e&&h(P);for(let e=0;e<ce.length;e+=1)ce[e].d();ee=!1,r(te)}}}function Ye(e){let t,n;return t=new te({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,[n]){const r={};1073741855&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){G(t,e)}}}const Ge=()=>{},Ke=()=>{},Qe=()=>{};function Xe(e,t,n){let r,s,c,l,o,a;i(e,ge,(e=>n(4,o=e)));const u=e=>{var t;console.log(c.currencyCode),t=c.currencyCode,a.map((e=>e.currencyCode)).includes(t)?n(2,s=!1):n(2,s=!0)},d=()=>{console.log(`Deleting ${c}`),ge.update((e=>{let t=e,n=t.currency_rates.filter((e=>e.currencyCode!=c.currencyCode));return n=n.filter((e=>e)),t.currency_rates=[...n],p(),t}))},f=()=>{console.log(`Adding ${c}`),ge.update((e=>{let t=e,n=e.currency_rates.map((e=>e.currencyCode));if(console.log(n),e.currency_rates.map((e=>e.currencyCode)).includes(c.currencyCode)){console.log("Editing");let e=[...t.currency_rates],n=e.findIndex((e=>e.currencyCode==c.currencyCode));e[n].alias_name=c.alias_name,t.currency_rates=[...e]}else t.currency_rates=[new he(c.currencyCode,c.alias_name,c.rate,c.has_manual_rate,c.manual_rate,c.adjustment),...t.currency_rates],t.selected_currencies=[c.currencyCode,...t.selected_currencies];return console.log(t),p(),t}))},p=()=>{n(3,c={currencyCode:"",alias_name:"",rate:1,has_manual_rate:!0,manual_rate:1,adjustment:0}),n(2,s=!0)},v=()=>{console.log("FFF"),ge.update((e=>{let t=e;return t.selected_currencies=[],t}))};B((()=>{ge.subscribe((e=>{a=e.currency_rates,(e=>{let t=[];for(let n of e.selected_currencies){let r=e.currency_rates.filter((e=>e.currencyCode===n))[0];r&&t.push(r)}console.log("Updating selected currencies"),console.log(t),n(0,l=t)})(e),console.log(l)}))}));return n(1,r=""),n(2,s=!0),n(3,c={currencyCode:"",alias_name:"",rate:1,has_manual_rate:!0,manual_rate:1,adjustment:0}),n(0,l=[]),[l,r,s,c,o,u,d,f,e=>{e.length>0&&(console.log(`Selecting ${e}`),ge.update((t=>{let n=t;return n.selected_currencies=[e,...n.selected_currencies],n.selected_currencies.sort(),n})),n(1,r=""))},v,e=>{u()},function(){c.currencyCode=this.value,n(3,c)},function(){c.alias_name=this.value,n(3,c)},()=>{f()},()=>{d()},function(){r=j(this),n(1,r)},()=>{v()},function(e,t){e[t].has_manual_rate=this.checked,n(0,l)},function(e,t){e[t].manual_rate=$(this.value),n(0,l)},function(e,t){e[t].adjustment=$(this.value),n(0,l)}]}class Ze extends X{constructor(e){super(),Q(this,e,Xe,Ye,c,{})}}function et(t){let n,r,s,c,i,l,o,a,u,d,f,y,_,$,x;return a=new Ze({}),d=new Ne({}),y=new Ee({}),{c(){n=m("main"),r=m("div"),s=m("p"),s.textContent="Exchange Admin Panel",c=g(),i=m("div"),l=m("button"),l.textContent="Save & Refresh",o=g(),W(a.$$.fragment),u=g(),W(d.$$.fragment),f=g(),W(y.$$.fragment),w(s,"class","svelte-ialvge"),w(l,"class","svelte-ialvge"),k(i,"display","flex"),k(r,"display","flex"),k(r,"justify-content","space-between"),w(n,"class","container")},m(e,h){v(e,n,h),p(n,r),p(r,s),p(r,c),p(r,i),p(i,l),p(n,o),Y(a,n,null),p(n,u),Y(d,n,null),p(n,f),Y(y,n,null),_=!0,$||(x=b(l,"click",t[1]),$=!0)},p:e,i(e){_||(F(a.$$.fragment,e),F(d.$$.fragment,e),F(y.$$.fragment,e),_=!0)},o(e){V(a.$$.fragment,e),V(d.$$.fragment,e),V(y.$$.fragment,e),_=!1},d(e){e&&h(n),G(a),G(d),G(y),$=!1,x()}}}function tt(e){async function t(){var e;await async function(){let e=JSON.stringify($e);console.log(e),await fetch("http://localhost:7777/api/send_state",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}(),await(e=1e3,new Promise((t=>setTimeout(t,e)))),await we()}_e.subscribe((e=>{$e.dollar_model=e})),ge.subscribe((e=>{$e.currency_model={selected_currencies:e.selected_currencies,currency_rates:[...e.currency_rates]}})),be.subscribe((e=>{$e.bot_model=e})),B((async()=>{console.log("Loaded!");const e=setInterval(t,2e4);return await we(),()=>clearInterval(e)}));return[t,async()=>{await t()}]}return new class extends X{constructor(e){super(),Q(this,e,tt,et,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
